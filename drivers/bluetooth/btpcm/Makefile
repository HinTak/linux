
# Specify Include folders
EXTRA_CFLAGS = -I$(src)
EXTRA_CFLAGS += -I$(src)/inc
EXTRA_CFLAGS += -I$(src)/src

EXTRA_CFLAGS += -DEXPORT_SYMTAB

# PCM_SRC can be either TONE(default) or IBIZA
PCM_SRC ?= TONE

obj-$(CONFIG_BT_HCIPCM) +=btpcm.o

btpcm-objs += src/btpcm_core.o

#ifeq ($(strip $(PCM_SRC)),ALSA)
#btpcm-objs += src/btpcm_alsa.o src/btpcm_hrtimer.o
#endif

#ifeq ($(strip $(PCM_SRC)),TONE)
#btpcm-objs += src/btpcm_tone.o src/btpcm_hrtimer.o
#endif

#ifeq ($(strip $(PCM_SRC)),IBIZA)
EXTRA_CFLAGS += -DBTPCM_IBIZA_DEBUG
#EXTRA_CFLAGS += -DBTPCM_HW_PCM_SAMPLE_SIZE=2 #X12
EXTRA_CFLAGS += -DBTPCM_HW_PCM_SAMPLE_SIZE=4 #FOX/GOLF/X12
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_BUF_LEFT_ADDR=0x5C7C9000 #X12
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_BUF_LEFT_ADDR=0xE0ECC000 #FOX
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_BUF_LEFT_ADDR=0x33320000 #GOLF
EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_BUF_LEFT_ADDR=0x33420000 #GOLF
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_BUF_RIGHT_ADDR=0x5C7CD000 #X12
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_BUF_RIGHT_ADDR=0xE0EE1000 #FOX
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_BUF_RIGHT_ADDR=0x33335000 #GOLF
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_BUF_SIZE=0x4000 #X12
EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_BUF_SIZE=0x15000 #FOX/GOLF
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_LEFT_WRITE_ADDR=0x5CC04000 #X12
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_LEFT_WRITE_ADDR=0x5C7D5000 #X12
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_LEFT_WRITE_ADDR=0xE0F283EC #FOX
#EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_LEFT_WRITE_ADDR=0x333F0B14 #GOLFP
EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_LEFT_WRITE_ADDR=0x334F0B14 #GOLFP
EXTRA_CFLAGS += -DBTPCM_IBIZA_PCM_ENABLE_MARK=0x334F0B66 #GOLFP

btpcm-objs += ibiza/btpcm_ibiza.o src/btpcm_hrtimer.o
#endif

#ifeq ($(strip $(PCM_SRC)),IBIZA_TONE)
#EXTRA_CFLAGS += -DBTPCM_IBIZA_DEBUG
#EXTRA_CFLAGS += -DBTPCM_IBIZA_TONE
#EXTRA_CFLAGS += -DBTPCM_HW_PCM_SAMPLE_SIZE=2
#btpcm-objs += ibiza/btpcm_ibiza.o src/btpcm_hrtimer.o
#endif
