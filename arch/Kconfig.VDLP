menu "Samsung"
menu "Samsung VDLP options"
comment "VDLinux 6.x"

config CHECK_A15_INSTRUCTION
	bool "Check A15 toolchain instruction"
	depends on DEBUG_USER && ARM
	default y

config SHOW_FAULT_TRACE_INFO
	bool "Show trace info on user page fault"
	default y
	depends on ARM || ARM64
	help
		Shows trace information when "Segmentation fault" or "Bus error" occurs.
		Prints registers, call stack, maps, user stack, etc.

config DUMP_STACK_SIZE
	int "Set size of User Stack to print"
	default 51200
	depends on SHOW_FAULT_TRACE_INFO
	help
	  Set size of User Stack to print.

config SHOW_THREAD_GROUP_STACK
	bool "Show thread groups stack on user page fault"
	default n
	depends on SHOW_FAULT_TRACE_INFO
	depends on ARM || ARM64
	help
		Shows thread groups user stack along with basic fault trace information.
		It may be useful where fault occurs in one thread, but another thread is
		a criminal.
		Be careful, dumping all threads stack can generate very long message.

config DISABLE_UNALIGNED_ACCESS
	bool "Disable support for unaligned access"
	default n
	depends on ALIGNMENT_TRAP
	depends on ARM
	help
		Do not allow support for unaligned access.

config SHOW_PC_LR_INFO
	bool "Show address range including PC, LR"
	default y
	depends on SHOW_FAULT_TRACE_INFO
	help
		Dump memory in which PC and LR lies.

config PC_LR_INFO_PLUS_SIZE
	int "Set size of PC/LR Plus Info"
	default 512
	depends on SHOW_PC_LR_INFO
	help
	  Set size of PC/LR Plus Info

config DUMP_RANGE_BASED_ON_REGISTER
	bool "Dump register value"
	default n
	depends on SHOW_PC_LR_INFO
	help
		Dump a specific range of addr bases on register.

config SERIAL_INPUT_MANIPULATION
	bool "Manipulate serial input in N_TTY"
	help
		Decide whether serial input by user is enabled or not.

config SERIAL_INPUT_DISABLE_STRING
	string "Serial input disable string"
	default "~~bye"
	depends on SERIAL_INPUT_MANIPULATION=y
	help
		Default string that disable serial input by user.

config SERIAL_INPUT_DEFAULT_SETUP_ENABLE
	bool "Serial input enable setup at boot"
	default y
	depends on SERIAL_INPUT_MANIPULATION=y

config SERIAL_INPUT_ENABLE_ONLY_NUMBER
	bool "Enable only 0~9, space, enter and backspace as serial input"
	default n
	depends on SERIAL_INPUT_MANIPULATION=y

config SERIAL_INPUT_ENABLE_HELP_MSG
	bool "Print help message for serial input"
	default y
	depends on SERIAL_INPUT_MANIPULATION=y

config DTVLOGD
	bool "DTVLOGD serial message logging system"
	default n
	help
	  Saving all serial message into memory buffer.
	  Logs are saved in in-kernel memory and can be used
	  for other features:
	  - Logging in usb or other area

config DTVLOGD_EMERGENCY_LOG
	bool "DTVLOGD - Emergency Log"
	default n
	depends on DTVLOGD
	help
	  Save emergency serial message into flash.
	  Logs are saved in a temporary RAM buffer and get saved
	  into flash area during:
	  crash/watchdog restart.

config DTVLOGD_USB_LOG
	bool "DTVLOGD - USB Log"
	default n
	depends on DTVLOGD
	help
	  Save all serial message into usb.
	  Logs are saved into USB at run-time.
	  Depends on dtvlogd buffer.
	  Use only for Debug as prints can be huge.

config DTVLOGD_DEBUG
	bool "DTVLOGD DEBUG mode"
	default n
	depends on DTVLOGD
	help
	  Prints all dtvlogd debug messages.
	  It also enables taking backup of log file at runtime.
	  (useful during development time)
	  This is generally disabled (N).
config SEPARATE_PRINTK_FROM_USER
	bool "Separate messages(printf, printk) between user and kernel."
	default y
	depends on ARM || ARM64

config VDLP_VERSION_INFO
	bool "Display kernel, patch number info"
	default y
	depends on ARM || ARM64
	help
		Print kernel, patch number info.

config PRINT_KILL_SIGNAL
	bool "Print kill signal debug message"
	default y
	help
		Print debug message when kill signal is raised.

config  PRINT_KILL_SIGNAL_ONLY_PERMITTED
        bool "Print kill signal debug message only for permitted signals"
        default y
        depends on PRINT_KILL_SIGNAL
        help
	 Print debug messages when only permitted signals are raised
	 (coredumpable + killable) otherwise debug messages are there for all
	 signals

config SKIP_CHECKING_MEMORY_WHILE_FORK
	bool "Workaround glibc system() fail problem"
	default y
	help
		Workaround glibc system fail problem.

config LPJ_MANUAL_SETTING
	bool "LPJ value manual setting"
	default y
	help
		Manually set the loops_per_jiffy value, to skip calibrating delay loop
		on boot to improve boot time.
		Pls note that for each architecture this value is different, therefore
		first run target without this patch to get value.
		Once value is found from boot message log, enable this option and
		assign value to "Manual LPJ value"

config LPJ_VALUE
	int "Manual LPJ Value"
	default 0
	depends on LPJ_MANUAL_SETTING=y
	help
		Find value for your architecture before setting this.

config VD_DEBUG_STACKOVERFLOW
	bool "Check for stack overflows"
	default y
	help
		This option will cause messages to be printed if free stack space
		drops below a certain limit.

config PRINT_MODULE_ADDR
	bool "Print Loaded Module Address"
	default y
	help
		Print loaded module address.

config FD_PID
	bool "Show thread-based file descriptor information (/proc/fd_pid)"
	default y
	help
		Show file descriptor information with thread name. The user can
		easily found which thread open this file descriptor.

config RSS_INFO
	bool "Support to print rss,rss max information of process memory"
	default y
	help
		Enable to print information of rss (memory usage) for the provided
		process pid in terms of sections like
		code, data, heap, stack etc.

config MEMSTAT_INFO
	bool "Support to print mem information of process memory"
	default y
	depends on RSS_INFO && PROC_PAGE_MONITOR
	help
		Enable to print information of pss, rss of all system
		processes.

config VMALLOCUSED_PLUS
	default y
	depends on PROC_FS && MMU
	bool "Plus useful info to 'VmallocUsed' field in meminfo" if EMBEDDED
	help
		Add size information of ioremap, vmalloc, vmap, usermap, vpages regions.

config MODULESUSED_PLUS
	bool
	default y
	depends on VMALLOCUSED_PLUS && MODULES && (ARM || ARM64)

config VD_MEMINFO
	bool "vd meminfo support"
	default y
	depends on RSS_INFO && VMALLOCUSED_PLUS
	help
		meminfo VD version
		This function supports detail oom message

config VD_MEMFREE
	default y
	bool "/proc/vd_memfree support"
	help
		print MemFree+Buffers+Cached+SwapCached-Mapped Kbytes

config ENABLE_OOM_DEBUG_LOGS
	default n
	bool "Enable OOM debug logs"
	depends on VD_RELEASE=y
	help
		Set console message log level to KERN_DEBUG(7)
		temporarily for enabling the OOM debug logs,
		when VD_RELEASE mode is set.

config PROFILE_MEMORY_USAGE
	default y
	bool "support profiling memory usage"
	depends on VMALLOCUSED_PLUS && VD_MEMINFO
	help
	 To stop profiling,
	 echo 0 > /proc/sys/vm/profile_memory_usage
	 To start profiling,
	 echo 1 > /proc/sys/vm/profile_memory_usage
	 To start profiling with printing info,
	 echo 2 > /proc/sys/vm/profile_memory_usage

config T2D_DEBUGD
	bool "T2DDEBUGD - core"
	default n
	help
		t2ddebugd - tizen tv device driver debugging helper

config T2D_SERIAL_INPUT_PORTNUM
	int "Serial input port line number"
	default 0

config T2D_PRINT
	int "enable t2d_print function"
	default 0



config VD_GIC_SET_AFFINITY
	default n
	bool "gic set affinity switch to cpumask_last"
	help
	  This option switches to cpumask_last in gic set affinity.

config INIT_CREATE_COREDUMP
	default y
	bool "Init process (systemd) will generate coredump"

config INSMOD_FASTBOOT
	default n
	bool "reduce insmod time via kernel_read function"
	help
	  This option reduce insmod time. This is temporary patch.
	  Finally Application package must call finit_module() system call
	  instead of init_module().

config KSM_DEFAULT_ON
	bool "enable kernel samepage merge by default"
	depends on KSM
	default n
	help
	 This option enables kernel samepage merging at the kernel level.
	  Enable Kernel Samepage Merging: KSM periodically scans those areas
          of an application's address space that an app has advised may be
          mergeable.  When it finds pages of identical content, it replaces
          the many instances by a single page with that content, so
          saving memory until one or another app needs to modify the content.
          Recommended for use with KVM, or with other duplicative applications.
          See Documentation/vm/ksm.txt for more information: KSM is inactive
          until a program has madvised that an area is MADV_MERGEABLE, and
          root has set /sys/kernel/mm/ksm/run to 1 (if CONFIG_SYSFS is set).

config KSM_DEFER_RUN
	bool "Defer start of KSM thread"
	depends on KSM_DEFAULT_ON
	default n
	help
	  Enable the option to defer starting of KSM thread.

config KSM_DEFER_RUN_DELAY
	int "KSM deferred start delay (in seconds)"
	depends on KSM_DEFER_RUN
	default 30
	help
	 The delay in seconds used to defer starting of KSM.


config OVERCOMMIT_ALWAYS
        default n
        bool "enable memory OVECOMMIT_ALWAYS by default"
        help
         This option changes memory overcommit policy to OVERCOMMIT_ALWAYS
         by default.

config INCREASED_LOWMEM_RESERVE_RATIO
        default n
        bool "increase lowmem reserve ratio up to 4096 by default"
        help
         This option increases lowmem reserve ratio for all zones up to
         4096.

config DYN_MOD_UNLOAD
	default y
	bool "dynamic unload fs modules"
	help
	 This option enables the dynamic unload of szdrv, exfat and ext4 modules
	 on usb unmount


endmenu #end of "Samsung VDLP options" menu

source "arch/Kconfig.Csystem"

endmenu # end of "Samsung" menu
