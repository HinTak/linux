/*
 * Here we define common kernel booting arguments and modes, which can be
 * substituded in main sdp dts configurations or 'bootargs' property of
 * special 'chosen' node of flattened device tree.
 *                                                   - roman.pen
 */

/* We always want to have some reserved space in cmdline for do substition.
 * Also here we start our space with '0', so kernel will never see this
 * reserved space, cmdline will be pretty as usual.
 *
 * NOTE: of course this reserved space should be at the end of the cmdline,
 *       or everything will be broken.
 */

/{
bootmodes {
	shift_s_boot_subs: shift_s_boot_subs {
		/* Lengths of params should be exactly the same */
		param_old = "init=/sbin/init";
		param_new = "init=/bin/sh -s";
	};

	/* use shell as init process, 'shift+s' should be pressed */
	shift_s_mode: shift_s_mode {
		key  = "S";
		subs = <&shift_s_boot_subs>;
	};

};
};
